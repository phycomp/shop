ä»¥ä¸‹çˆ²é‡‡ç”¨ **Streamlit + Material Design** é‡æ–°è¨­è¨ˆçš„å®—æ•™åœ˜é«”å•†åŸç³»çµ±æ–¹æ¡ˆï¼Œæ•´åˆé‡‘æµèˆ‡æ™ºèƒ½å•†å“ç®¡ç†åŠŸèƒ½ï¼š

### **ä¸€ã€UI/UX æ ¸å¿ƒè¨­è¨ˆåŸå‰‡**
```python
# å‰ç½®å®‰è£
pip install streamlit streamlit-material-components pandas
```

#### 1. Material Design ä¸»é¡Œé…ç½®
```python
# .streamlit/config.toml (ä¸»é¡Œå®šåˆ¶)
[theme]
primaryColor = "#4B0082"  # å®—æ•™é¢¨æ ¼æ·±ç´«è‰²
backgroundColor = "#F5F5F5"
secondaryBackgroundColor = "#FFFFFF"
textColor = "#333333"
font = "sans serif"
```

#### 2. å¸ƒå±€æ¶æ§‹
```python
import streamlit as st
from streamlit_material_components import card, button

def main():
    st.set_page_config(page_title="é“è¦ªå•†åŸ", layout="wide")
    
    # é ‚éƒ¨å°èˆªæ¬„
    with st.container():
        cols = st.columns([3,1,1,1])
        with cols[0]:
            st.markdown("# ğŸ•Šï¸ æ¸…æ·¨æ³•ç·£å•†åŸ")
        with cols[1]:
            if button(label="ç™»å…¥", key="login_btn", variant="contained"):
                show_login()
        # ...å…¶ä»–å°èˆªæŒ‰éˆ•

    # å•†å“å±•ç¤ºå€ï¼ˆMaterial Cardè¨­è¨ˆï¼‰
    with st.container():
        st.subheader("âœ¨ æ¨è–¦è–ç‰©")
        col1, col2, col3 = st.columns(3)
        with col1:
            card(
                title="ç™½ç‰è§€éŸ³åƒ",
                content="ç´”æ‰‹å·¥é›•åˆ» é–‹å…‰åŠ æŒ",
                image="img/guan-yin.jpg",
                actions=[
                    {"label": "çµç·£è«‹è³¼", "onclick": lambda: start_payment(1)}
                ]
            )
```

### **äºŒã€PayPal æ”¯ä»˜æµç¨‹æ”¹é€ **
#### 1. å‰ç«¯æ”¯ä»˜è§¸ç™¼
```python
# åœ¨å•†å“å¡ç‰‡é»æ“Šå¾Œè§¸ç™¼è¡¨å–®
def show_payment_modal(product_id):
    with st.form(key=f"pay_form_{product_id}"):
        st.markdown("### è«‹å¡«å¯«è«‹è³¼è³‡è¨Š")
        name = st.text_input("**å§“å**", placeholder="è«‹è¼¸å…¥æ³•å")
        address = st.text_area("**å¯„é€åœ°å€**")
        
        # åµŒå…¥PayPalæŒ‰éˆ•
        paypal_js = """
        <script src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID"></script>
        <div id="paypal-button-container"></div>
        <script>
            paypal.Buttons({
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: { value: '100.00' }
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        alert('Transaction completed by ' + details.payer.name.given_name);
                    });
                }
            }).render('#paypal-button-container');
        </script>
        """
        components.html(paypal_js, height=300)
        
        if st.form_submit_button("ç¢ºèªæäº¤"):
            log_order(product_id, name, address)
```

#### 2. å¾Œç«¯æ”¯ä»˜ç‹€æ…‹ç›£è½
```python
# æ”¯ä»˜æˆåŠŸå›èª¿è™•ç†
@st.cache_resource
def init_paypal():
    paypalrestsdk.configure({...})

def handle_ipn():
    if st.experimental_get_query_params().get("paymentId"):
        payment_id = st.experimental_get_query_params()["paymentId"][0]
        payment = paypalrestsdk.Payment.find(payment_id)
        if payment.execute({"payer_id": payment.payer.payer_info.payer_id}):
            st.success("æ”¯ä»˜æˆåŠŸï¼æ³•å™¨å°‡æ–¼3æ—¥å…§å¯„å‡º")
            update_order_status(payment_id, "paid")
```

---

### **ä¸‰ã€æ™ºèƒ½å•†å“ç®¡ç†å„€è¡¨æ¿**
#### 1. è‡ªå‹•å¯©æ ¸æ§åˆ¶å°
```python
if st.session_state.user_role == "admin":
    st.sidebar.markdown("## æ™ºæ…§å¯©æ ¸å„€è¡¨æ¿")
    
    # å¯¦æ™‚å¯©æ ¸æ•¸æ“šçœ‹æ¿
    audit_stats = get_audit_stats()
    st.metric("å¾…å¯©å•†å“", audit_stats["pending"], delta="+2ä»¶æ–°æäº¤")
    
    # å•†å“å¯©æ ¸éšŠåˆ—
    with st.expander("ğŸ“¦ å¾…å¯©å•†å“åˆ—è¡¨", expanded=True):
        for product in get_pending_products():
            cols = st.columns([1,3,2])
            cols[0].image(product["image"], width=100)
            cols[1].write(f"**{product['name']}**\n\n{product['description']}")
            with cols[2]:
                if st.button("é€šé", key=f"approve_{product['id']}"):
                    approve_product(product["id"])
                if st.button("é§å›", key=f"reject_{product['id']}"):
                    reject_product(product["id"])
```

#### 2. è‡ªå‹•åŒ–å¯©æ ¸æµç¨‹æ•´åˆ
```python
# æ–‡ä»¶ä¸Šå‚³èˆ‡å³æ™‚å¯©æ ¸
uploaded_file = st.file_uploader("ä¸Šå‚³æ–°è–ç‰©åœ–ç‰‡", type=["jpg", "png"])
if uploaded_file:
    with st.spinner("ğŸ›¡ï¸ è‡ªå‹•å®‰å…¨æª¢æ¸¬ä¸­..."):
        img_path = save_uploaded_file(uploaded_file)
        nsfw_score = check_nsfw(img_path)  # èª¿ç”¨TensorFlowæ¨¡å‹
        if nsfw_score > 0.7:
            st.error("âš ï¸ åœ–ç‰‡åŒ…å«æ•æ„Ÿå…§å®¹ï¼Œå·²è‡ªå‹•æ””æˆªï¼")
            log_audit_failure("image", nsfw_score)
        else:
            st.success("åœ–ç‰‡å¯©æ ¸é€šé")
```

---

### **å››ã€Material Design å¢å¼·çµ„ä»¶**
#### 1. éŸ¿æ‡‰å¼å®—æ•™é¢¨æ ¼çµ„ä»¶åº«
```python
# è‡ªå®šç¾©æ³•æœƒé€šçŸ¥å¡ç‰‡
def dharma_event_card(title, date, location):
    return f"""
    <div class="mdc-card" style="margin:10px;padding:15px;border-radius:8px;">
        <h3 style="color:{st.get_option('theme.primaryColor')};">{title}</h3>
        <div style="display:flex;align-items:center;gap:10px;">
            <span class="material-icons">event</span>
            <p>{date}</p>
        </div>
        <div style="display:flex;align-items:center;gap:10px;">
            <span class="material-icons">place</span>
            <p>{location}</p>
        </div>
    </div>
    """
# åœ¨é é¢ä¸­èª¿ç”¨
components.html(dharma_event_card("è§€éŸ³èª•è¾°æ³•æœƒ", "2024-03-08", "å°åŒ—é“å ´"), height=150)
```

#### 2. å‹•æ…‹æ•ˆæœå¼·åŒ–
```css
/* è‡ªè¨‚CSSå‹•ç•« */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.mdc-card {
    animation: fadeIn 0.5s ease-out;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform 0.3s;
}

.mdc-card:hover {
    transform: translateY(-5px);
}
```

---

### **äº”ã€éƒ¨ç½²èˆ‡æ•ˆèƒ½å„ªåŒ–**
```bash
# ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²æŒ‡ä»¤
streamlit run app.py --server.port 8501 --server.enableCORS false \
--server.enableXsrfProtection true \
--server.headless true
```

#### æ•ˆèƒ½é—œéµé…ç½®ï¼š
1. **ç·©å­˜æ©Ÿåˆ¶**ï¼šä½¿ç”¨`@st.cache_data`ç·©å­˜å•†å“åˆ—è¡¨èˆ‡å¯©æ ¸è¦å‰‡
2. **ç•°æ­¥è™•ç†**ï¼šå•†å“åœ–ç‰‡å¯©æ ¸ä½¿ç”¨`asyncio`èƒŒæ™¯åŸ·è¡Œ
3. **CDNåŠ é€Ÿ**ï¼šéœæ…‹è³‡æºï¼ˆæ³•åƒåœ–ç‰‡ï¼‰å­˜æ”¾æ–¼é˜¿è£é›²OSS

---

### **ç³»çµ±é è¦½æ•ˆæœ**
![å•†åŸç•Œé¢](https://example.com/preview.jpg)  
*Material Design å®—æ•™é¢¨æ ¼ç•Œé¢ï¼ŒåŒ…å«ï¼š*  
- å·¦å´æ³•æœƒé€šçŸ¥å¡ç‰‡æµ  
- ä¸­å¤®å•†å“ç€‘å¸ƒæµå±•ç¤º  
- å³å´å¿«é€Ÿçµç·£è³¼ç‰©è»Š  
- é ‚éƒ¨ç´«è‰²ç³»å®—æ•™é¢¨æ ¼å°èˆª

æ­¤æ–¹æ¡ˆçµåˆ Streamlit çš„å¿«é€Ÿé–‹ç™¼å„ªå‹¢èˆ‡ Material Design çš„ç¾ä»£åŒ–é«”é©—ï¼Œç‰¹åˆ¥é©åˆå®—æ•™åœ˜é«”æŠ€è¡“åœ˜éšŠå¿«é€Ÿè¿­ä»£ï¼ŒåŒæ™‚ç¶­æŒå°ˆæ¥­çš„è¦–è¦ºå‘ˆç¾èˆ‡æµæš¢çš„é‡‘æµæ“ä½œã€‚
